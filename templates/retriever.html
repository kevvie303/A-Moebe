<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Retriever</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='fonts/fonts.css')}}">
    <link rel="icon" href="static/img/favicon.png" type="image/png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>    
</head>
<body>
    <header class="retriever-logo">
        <figure class="logo-container">
            <img src="static/img/retrieverlogo.svg" alt="Retriever Logo">
        </figure>
    </header>

    <nav class="important-controls">
        <div class="time-elapsed">
            <p>Elapsed</p>
            <p id="time-played">00:00</p>
        </div>

        <div class="game-controls">
            <button id="media-popup" class="icon"><img src="static/img/media.svg" alt="Button to the media controls"></button>
            <button id="time-popup" class="icon"><img src="static/img/time.svg" alt="Button to time settings"></button>
            <button id="pi-popup" class="icon"><img src="static/img/pi.svg" alt="Button to Pi settings"></button>
            <button id="abort-button" class="icon"><img src="static/img/abort.svg" alt="Button to abort the room"></button>
        </div>

        <div class="time-remaining">
            <p>Remaining</p>
            <p id="time-left">60:00</p>
        </div>
    </nav>

    <section class="media-hidden">
        <article class="media">
            <h2>Media</h2>
            <div>

                <button class="button-style">Select song</button>

                <p>Song name</p>

                <figure>
                    <button><img src="static/img/start.svg" alt="Start music"></button>
                </figure>

                <!-- <p id="music-list">
                    Music files will be dynamically added here
                </p> -->

                
            </div>
            

        </article>
    </section>

    <section class="control-container">

        <section class="locks">
            <h2>Locks</h2>

            <article class="lock-control">
                <div class="lock">
                    <p>entrance-door-lock</p>
                    <div class="lock-buttons">
                        <button class="turn-on-button icon" data-maglock="1"><img src="static/img/lock.svg" alt="Lock"></button>
                        <button class="turn-off-button icon" data-maglock="0"><img src="static/img/unlock.svg" alt="Unlock"></button>
                    </div>
                </div>

                <div class="lock">
                    <p>doghouse-lock</p>
                    <div class="lock-buttons">
                        <button class="turn-on-button icon" data-maglock="2"><img src="static/img/lock.svg" alt="Lock"></button>
                        <button class="turn-off-button icon" data-maglock="-1"><img src="static/img/unlock.svg" alt="Unlock"></button>
                    </div>
                </div>
            </article>
        </section>

        <section class="lock-status">
            <h2>Status</h2>

            <div class="status">
                <p>entrance-door-lock<strong id="maglock1-status">Locked</strong></p>
                <p>doghouse-lock<strong id="maglock2-status">Locked</strong></p>
            </div>
        </section>

        <section class="time-container">

            <h2>Time controls</h2>
    
            <article class="time">
                <p>Played<strong id="time-played">00:00</strong></p>
                <p>Left: <strong id="time-left">60:00</strong></p>
                <p id="speed-display">Speed: 1x</p>
            </article>
    
            <article class="speed-buttons">
                <div class="speed-up-slow-down">
                    <button id="speed-up-button" class="button-style main-button">Speed Up</button>
                    <button id="slow-down-button" class="button-style main-button">Slow Down</button>
                </div>
                <div class="reset-speed">
                    <button id="reset-button" class="button-style main-button">Reset Speed</button>
                </div>
            </article>
    
        </section>

        <article class="game-buttons">
            <h2>Game</h2>

            <div class="play-pause-buttons">
                <button id="start-game-button"><img class="icon" src="static/img/start.svg" alt="Start game button"></button>
                <button id="pause-button"><img class="icon" src="static/img/pause.svg" alt="Pause game button"></button>
                <button id="continue-button" style="display: none;"><img src="static/img/pause.svg" alt="Pause game button"></button>
                <button id="end-game-button"><img class="icon" src="static/img/abort.svg" alt="Abort game button"></button>
            </div>
        </article>

        <article class="media-play">
            <h2>Play media</h2>

            <div class="buttons">

                <div class="button-container">
                    <button id="select-file-button" class="button-style main-button">Select Song</button>
                    <!-- <button id="pause-music-button" class="button-style main-button">Pause Music</button> -->
                    <!-- <button id="resume-music-button" class="button-style main-button">Resume Music</button> -->
                    <button id="stop-music-button" class="button-style main-button">Force stop music</button>
                    <button id="add-music-button">Add media to the PI</button>
            <button onclick="openMediaControlPage()">Control Media</button>
                </div>
            </div>
        </article>

        <article class="pi-reboot">
            <h2>Pi reboot</h2>

            <div class="buttons">
                <button id="reboot-pi-mag">Reboot maglock pi</button>
            <button id="reboot-pi-music">Reboot music pi</button>
            <button id="backup-top-pi">Backup the top pi</button>
            <button id="backup-middle-pi">Backup the middle pi</button>
            </div>
        </article>

        <table id="status-table">
            <!-- Table will be populated dynamically -->
        </table>

        <div id="status-display"></div>
        <ul id="music-list">
            <!-- Music files will be dynamically added here -->
        </ul>

    </section>
    
    <script src="{{ url_for('static', filename='js/sketch.js') }}"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
</body>
</html>